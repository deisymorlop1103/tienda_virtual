<!DOCTYPE html>
<html>
<head>
    <title>Login and Register</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
</head>
<body>
    <h1>Login and Register</h1>
    <form id="login-form">
        <input type="text" id="login-username" placeholder="Username" required><br>
        <input type="password" id="login-password" placeholder="Password" required><br>
        <button type="submit">Login</button>
    </form>
    <form id="register-form">
        <input type="text" id="register-username" placeholder="Username" required><br>
        <input type="password" id="register-password" placeholder="Password" required><br>
        <input type="email" id="register-email" placeholder="Email" required><br>
        <button type="submit">Register</button>
    </form>

    <script>
        var users = JSON.parse(localStorage.getItem('users')) || [];

        function checkUser(username) {
            return users.some(function(user) {
                return user.username === username;
            });
        }

        $("#login-form").submit(function(e) {
            e.preventDefault();
            var username = $("#login-username").val();
            var password = $("#login-password").val();
            var validUser = users.find(function(user) {
                return user.username === username && user.password === password;
            });
            if (validUser) {
                alert('Login successful');
                window.location.href = 'index.html';
            } else {
                alert('Invalid username or password');
            }
        });

        $("#register-form").submit(function(e) {
            e.preventDefault();
            var username = $("#register-username").val();
            var password = $("#register-password").val();
            var email = $("#register-email").val();
            if (checkUser(username)) {
                alert('Username already exists');
            }
                </script>
</body>
</html>
